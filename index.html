<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="aesthetics.css">
  <link rel="shortcut icon" href="calculator-icon.png" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono" rel="stylesheet">
  <title>Calculator by The Empathic Dev</title>
</head>
<body>
  <div class="calculator"><h1>Basic Calculator</h1></div>
  <form>
    <div class="input1">
        <label for="value1">Value 1</label>
        <input type="text" id="value1">
    </div>
    <div class="input2">
        <label for="value2">Value 2</label>
        <input type="text" id="value2">
    </div>
    <div class="operator">
        <label for="operator">Operator</label>
        <select id="operator">
          <option value="add">add</option>
          <option value="min">minus</option>
          <option value="div">divide</option>
          <option value="mul">multiply</option>
        </select>
    </div>
    <button type="button" onclick="calc()">Calculate</button>
  </form>
  <div id="results"></div>

  <div class="calculator"><h1>Calculator App Style</h1></div>

  <div id="calc-parent">
    <div class="row">
      <div class="column" id="calc-display-val">0</div>
    </div>
    <div class="row">
      <div class="calc-btn column" id="calc-clear">AC</div>
      <div class="calc-btn column" id="calc-backspace">&#8676;</div>
      <div class="calc-btn calc-btn-operator column" id="calc-divide">&#247;</div>
    </div>
    <div class="row">
      <div class="calc-btn calc-btn-num column" id="calc-seven">7</div>
      <div class="calc-btn calc-btn-num column" id="calc-eight">8</div>
      <div class="calc-btn calc-btn-num column" id="calc-nine">9</div>
      <div class="calc-btn calc-btn-operator column" id="calc-multiply">x</div>
    </div>
    <div class="row">
      <div class="calc-btn calc-btn-num column" id="calc-four">4</div>
      <div class="calc-btn calc-btn-num column" id="calc-five">5</div>
      <div class="calc-btn calc-btn-num column" id="calc-six">6</div>
      <div class="calc-btn calc-btn-operator column" id="calc-minus">-</div>
    </div>
    <div class="row">
      <div class="calc-btn calc-btn-num column" id="calc-one">1</div>
      <div class="calc-btn calc-btn-num column" id="calc-two">2</div>
      <div class="calc-btn calc-btn-num column" id="calc-three">3</div>
      <div class="calc-btn calc-btn-operator column" id="calc-plus">+</div>
    </div>
    <div class="row">
      <div class="calc-btn calc-btn-num column" id="calc-zero">0</div>
      <div class="calc-btn column" id="calc-decimal">.</div>
      <div class="calc-btn calc-btn-operator column" id="calc-equals">=</div>
    </div>
  </div>
</body>
<script>
    // basic calculator script
  function calc(){
    var a = parseInt(document.querySelector("#value1").value);
    var b = parseInt(document.querySelector("#value2").value);
    var op = document.querySelector("#operator").value;
    var calculate;

    if (op == "add") {
      calculate = a + b;
    } else if (op == "min"){
      calculate = a - b;
    } else if (op == "div"){
      calculate = a / b;
    } else if (op == "mul"){
      calculate = a * b;
    }
    document.querySelector("#results").innerText = calculate;
  }

    // calculator app style script
  var oneBtn = document.getElementById("calc-one");
  var twoBtn = document.getElementById("calc-two");
  var threeBtn = document.getElementById("calc-three");
  var fourBtn = document.getElementById("calc-four");
  var fiveBtn = document.getElementById("calc-five");
  var sixBtn = document.getElementById("calc-six");
  var sevenBtn = document.getElementById("calc-seven");
  var eightBtn = document.getElementById("calc-eight");
  var nineBtn = document.getElementById("calc-nine");
  var zeroBtn = document.getElementById("calc-zero");

  var decimalBtn = document.getElementById("calc-decimal");
  var clearBtn = document.getElementById("calc-clear");
  var backspaceBtn = document.getElementById("calc-backspace");
  var displayValElement = document.getElementById("calc-display-val");

  var displayVal = '0';
  var pendingVal;
  var evalStringArray = [];

  var calcNumBtns = document.getElementsByClassName("calc-btn-num");
  var calcOperatorBtns = document.getElementsByClassName("calc-btn-operator");

  var updateDisplayVal = (clickObj) => {
    var btnText = clickObj.target.innerText;
    console.log(btnText);
    if (displayVal === "0")
      displayVal = "";

      displayVal += btnText;
      displayValElement.innerText = displayVal;

    console.log("updateDisplayVal Function Test");
    console.log(displayVal);
  }

  var performOperation = (clickObj) => {
    var operator = clickObj.target.innerText;

    switch (operator) {
      case '+':
        pendingVal = displayVal;
        displayVal = "0";
        displayValElement.innerText = displayVal;
        evalStringArray.push(pendingVal);
        evalStringArray.push("+");
        break;
      case '-':
        pendingVal = displayVal;
        displayVal = "0";
        displayValElement.innerText = displayVal;
        evalStringArray.push(pendingVal);
        evalStringArray.push("-");
        break;
      case 'x':
        pendingVal = displayVal;
        displayVal = "0";
        displayValElement.innerText = displayVal;
        evalStringArray.push(pendingVal);
        evalStringArray.push("*");
        break;
      case 'รท':
        pendingVal = displayVal;
        displayVal = "0";
        displayValElement.innerText = displayVal;
        evalStringArray.push(pendingVal);
        evalStringArray.push("/");
        break;
      case '=':
        evalStringArray.push(displayVal);
        var evaluation = eval(evalStringArray.join(" "));
        displayVal = evaluation + "";
        displayValElement.innerText = displayVal;
        evalStringArray = [];
        break;
      default:
        break;
    }
  }

  for (let i = 0; i < calcNumBtns.length; i++) {
    calcNumBtns[i].addEventListener('click', updateDisplayVal, false);
  }
  for (let i = 0; i < calcOperatorBtns.length; i++) {
    calcOperatorBtns[i].addEventListener('click', performOperation, false);
  }

  clearBtn.onclick = () => {
    displayVal = "0";
    pendingVal = undefined;
    evalStringArray = [];
    displayValElement.innerHTML = displayVal;
    console.log("all clear btn works");
  }
  backspaceBtn.onclick = () => {
    let lengthOfDisplayVal = displayVal.length;
    displayVal = displayVal.slice(0, lengthOfDisplayVal - 1);

    if (displayVal === "")
      displayVal = "0";

    displayValElement.innerText = displayVal;
    console.log("backspace btn works");
  }
  decimalBtn.onclick = () => {
    if(!displayVal.includes('.'))
      displayVal += ".";
    displayValElement.innerText = displayVal;
  }
</script>
</html>